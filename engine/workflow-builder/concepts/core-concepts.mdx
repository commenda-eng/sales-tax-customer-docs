---
title: 'Core concepts'
description: 'Understand the fundamental building blocks of Workflow Builder'
icon: 'book'
---

This guide explains the core concepts you need to understand when working with Workflow Builder.

## Workflow templates

A workflow template is a reusable definition of a business process. Templates contain:

- **Name and description** - Human-readable identifiers
- **Steps** - Individual units of work
- **Transitions** - Connections between steps
- **Step groups** - Logical groupings for UI organization

Templates support multiple versions, allowing you to iterate on designs while maintaining stable production workflows.

## Workflow versions

Each template can have multiple versions with different statuses:

| Status | Description |
|--------|-------------|
| **DRAFT** | In development, can be edited |
| **PUBLISHED** | Ready to be activated, cannot be edited |
| **DEPRECATED** | No longer recommended for use |

Only one version can be **active** at a time. When a workflow is triggered, the active version is used.

## Workflow executions

An execution is a running instance of a workflow template version. Each execution tracks:

- **Runtime status** - Current state (NOT_STARTED, IN_PROGRESS, COMPLETED, FAILED, CANCELLED)
- **Step states** - Status of each step in the execution
- **Context** - Data passed into and generated by the workflow
- **Timestamps** - When the execution started, completed, or failed

## Workflow links

Links determine when workflows are triggered automatically:

- **SERVICE_CATALOG** - Triggered when a specific service request type is created
- **PRODUCT** - Triggered when a specific product is purchased

## Expressions and evaluation

Workflow Builder uses [JSONata](https://jsonata.org/) expressions for dynamic values and conditions.

### Evaluation scope

All expressions are evaluated against an environment with these properties:

| Variable | Description | Example |
|----------|-------------|---------|
| `__context__` | Access the global workflow context | `__context__.customerId` |
| `__steps__` | Access any step's output | `__steps__.stepId.name` |
| `__datasources__` | Access fetched datasource outputs | `__datasources__.dsId.data` |
| `__each__` | Access current item in iterations | `__each__.id` |

### Example expression

```jsonata
__context__.customer.type = 'premium' and __steps__.verification.approved = true
```

## Value providers

Value providers define how to produce a value in mappings and configurations:

### Constant value

A hardcoded value:

```json
{
  "type": "const",
  "value": "Hello World"
}
```

### Field reference

Access a value from context, step output, datasource, or iteration:

```json
{
  "type": "field",
  "ref": {
    "source": "CONTEXT",
    "path": "customer.email"
  }
}
```

### Expression

Compute a value using JSONata:

```json
{
  "type": "expr",
  "expr": {
    "type": "jsonata",
    "src": "__context__.firstName & ' ' & __context__.lastName"
  }
}
```

## Mappings

Mappings define how to transform and assign values:

```json
{
  "id": "map-customer-name",
  "targetPath": "customerName",
  "value": {
    "type": "expr",
    "expr": { "src": "__context__.customer.fullName" }
  },
  "mode": "set"
}
```

| Property | Description |
|----------|-------------|
| `targetPath` | Dot-notation path for the destination |
| `value` | Value provider defining the source |
| `mode` | `set` (replace) or `append` (for arrays) |

## Datasource calls

Fetch external data during workflow execution:

```json
{
  "id": "fetch-customer",
  "alias": "customer",
  "type": "COMMENDA_LOGICAL_BACKEND",
  "dataSourceID": "ds-customer-api",
  "params": {
    "customerId": {
      "type": "field",
      "ref": { "source": "CONTEXT", "path": "customerId" }
    }
  },
  "select": { "type": "jsonata", "src": "$.data" },
  "scope": "per-step"
}
```

| Property | Description |
|----------|-------------|
| `dataSourceID` | Reference to the datasource definition |
| `params` | Parameters to pass to the datasource |
| `select` | Transform the response (optional) |
| `scope` | `per-step` or `per-item` for batch workflows |

## Next steps

<CardGroup cols={2}>
  <Card title="Step types" icon="shapes" href="/engine/workflow-builder/concepts/step-types">
    Learn about all available step types
  </Card>
  <Card title="JSON schemas" icon="brackets-curly" href="/engine/workflow-builder/concepts/json-schemas">
    Understand data validation with schemas
  </Card>
</CardGroup>

